var console_error = console.error;
var console_log = console.log;
function logStackTrace(func, args){
	for ( var i = 0; i < args.length; ++ i ) {
		var arg = args[i];
		if ( (arg instanceof Error) && arg.stack ) {
			func(arg.stack);
		}
	}
}

console.error = function(){
	var r = console_error.apply(null, arguments);
	logStackTrace(console_error, arguments);
	return r;
};

console.log = function(){
	var r = console_log.apply(null, arguments);
	logStackTrace(console_log, arguments);
	return r;
};
