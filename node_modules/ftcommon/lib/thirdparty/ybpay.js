var YeePay = require('yeepay');
//var NodeRSA= require('node-rsa');
//var yeepayId = '10012465286';
var yeepayId = 'YB01000000144';
//var rsaPrivateKey = 'MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBALvq1kwU418Uc0cS3Aek8/85uFIf1AENKXNV9WfQ/scJ7ieqIvOqTpXOTIxE/fZVqkRo3rZnvlm64vC7GcoIq5K48014a6AwTlHr/UlMmTEqGEfeBN9U9/DdhNbqSQKg15c5BR+glHzEcm5H2/IGXv//vlUxeVEeuVK/kMnJniv5AgMBAAECgYEAieqh2vbdpTOaI4io6gdbeG8BY2yuqRLi4B4vXUFbK/OS0ZOh0VmmEXZ2YeBkz70xmMGq6w6a+roZwvpexBO271blY+Qs1kQUqp8fsJ+xsXsp74KrYbMUzOKJD+9yd+N6Ih6judT6SYaZu9itpHkoujJxvY85NjHTR6T9pD5iO10CQQDm1GC4aQ8CBVG7whZOeOQBwZzm2MJ8VrhxnUHZVyq/piG4nKv/oosexhBz0rqsbseGvYRvWxRfnc7cqVWvQQ7HAkEA0GiPjBjjAHchlPyzOjw0oKoF4lSegcmcp9hjyKYkQXl4/SuRFY1NAuX3zqGW0ck+OwT0y8+0Jeaj8QMc0PMvPwJAcdBh6EuU5NAunr9yNDsTYXJPpNtX+erggtShNULvhxOpKNfHTwKcSg4q6pELDh6JLvyfIjDseMDc0JyF7SXM3QJAcSNyWkHgag5CYtlUixbIEzh5/UamzhqfOtdUREc9g3XoYrhWCPcuiZZCkyBR+g1gBTZJlqNpTvIIqfxglmaOjQJAUb22S7NfrdqWBUZrahVrmEWPaD/ETdKLY/twhkxgsMeid2EX1a+xs6ghYphuG4qp2z9eF/K7s9uVFeF+KUQo0w==';
var rsaPrivateKey = 'MIICdQIBADANBgkqhkiG9w0BAQEFAASCAl8wggJbAgEAAoGBAPGE6DHyrUUAgqep/oGqMIsrJddJNFI1J/BL01zoTZ9+YiluJ7I3uYHtepApj+Jyc4Hfi+08CMSZBTHi5zWHlHQCl0WbdEkSxaiRX9t4aMS13WLYShKBjAZJdoLfYTGlyaw+tm7WG/MR+VWakkPX0pxfG+duZAQeIDoBLVfL++ihAgMBAAECgYAw2urBV862+5BybA/AmPWy4SqJbxR3YKtQj3YVACTbk4w1x0OeaGlNIAW/7bheXTqCVf8PISrA4hdL7RNKH7/mhxoX3sDuCO5nsI4Dj5xF24CymFaSRmvbiKU0Ylso2xAWDZqEs4Le/eDZKSy4LfXA17mxHpMBkzQffDMtiAGBpQJBAPn3mcAwZwzS4wjXldJ+Zoa5pwu1ZRH9fGNYkvhMTp9I9cf3wqJUN+fVPC6TIgLWyDf88XgFfjilNKNz0c/aGGcCQQD3WRxwots1lDcUhS4dpOYYnN3moKNgB07Hkpxkm+bw7xvjjHqI8q/4Jiou16eQURG+hlBZlZz37Y7P+PHF2XG3AkAyng/1WhfUAfRVewpsuIncaEXKWi4gSXthxrLkMteM68JRfvtb0cAMYyKvr72oY4Phyoe/LSWVJOcW3kIzW8+rAkBWekhQNRARBnXPbdS2to1f85A9btJP454udlrJbhxrBh4pC1dYBAlz59v9rpY+Ban/g7QZ7g4IPH0exzm4Y5K3AkBjEVxIKzb2sPDe34Aa6Qd/p6YpG9G6ND0afY+m5phBhH+rNkfYFkr98cBqjDm6NFhT7+CmRrF903gDQZmxCspY';
var rsaPublicKey = 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDxhOgx8q1FAIKnqf6BqjCLKyXXSTRSNSfwS9Nc6E2ffmIpbieyN7mB7XqQKY/icnOB34vtPAjEmQUx4uc1h5R0ApdFm3RJEsWokV/beGjEtd1i2EoSgYwGSXaC32ExpcmsPrZu1hvzEflVmpJD19KcXxvnbmQEHiA6AS1Xy/vooQIDAQAB';
//var rsaPublicKey = 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC76tZMFONfFHNHEtwHpPP/ObhSH9QBDSlzVfVn0P7HCe4nqiLzqk6VzkyMRP32VapEaN62Z75ZuuLwuxnKCKuSuPNNeGugME5R6/1JTJkxKhhH3gTfVPfw3YTW6kkCoNeXOQUfoJR8xHJuR9vyBl7//75VMXlRHrlSv5DJyZ4r+QIDAQAB';
var yeepayPublicKey = 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQChmjizPjaGz82G8rspEHERbzcC0czwTc9yJJois27rW52ofMgUIjDeiD+DxExH9VBkViY4UZuHb36KvWnj1SbsLEicinAi7UK84fzWsK7uhvCvQW4ahoHe2Gb2EQZ35dgiiOg56AjeyaBLAV2FGb3WMZfVFEdZT4Uu1BM1LaVchQIDAQAB';
var privateKey = '967Pw928TD9zmpBzMpD6e9po850rUn2vC4mh89H173wVo04H5vBlU780a414';
var CRLF = '\n';
function formatKey(key, prefix, postfix)
{
	var fmtKey = prefix + CRLF;
	for ( var i = 0; i < key.length; i+=64 ) {
		fmtKey += key.substr(i, 64) + CRLF;
	}
	fmtKey += postfix;
	return fmtKey;
} 
/*
rsaPrivateKey = formatKey(rsaPrivateKey, '-----BEGIN RSA PRIVATE KEY-----', '-----END RSA PRIVATE KEY-----');
rsaPublicKey = formatKey(rsaPublicKey, '-----BEGIN PUBLIC KEY-----', '-----END PUBLIC KEY-----')
yeepayPublicKey= formatKey(yeepayPublicKey, '-----BEGIN PUBLIC KEY-----', '-----END PUBLIC KEY-----')
*/
var yeepay = new YeePay({
	merchantaccount: yeepayId,
	merchantPublicKey: rsaPublicKey,
	merchantPrivateKey: rsaPrivateKey,
	yeepayPublicKey: yeepayPublicKey
});

function apiUrl(path){
	if ( debug ) return 'http://mobiletest.yeepay.com/testpayapi'+path;
	else return 'https://ok.yeepay.com/payapi' + path;
}
/*
exports.decrypt = function(data) {
	var key = new NodeRSA(rsaPrivateKey);
	return key.decrypt(data, 'utf8');
}
*/
exports = module.exports = yeepay;
